<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amiri Hayes">
<meta name="dcterms.date" content="2025-12-10">
<meta name="description" content="some thoughts about learning new things">

<title>Depth, Breadth and Learning – Amiri Hayes’ Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e83117e711fad372bcb8c8022997a9a8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="fullcontent quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Depth, Breadth and Learning</h1>
  <div class="quarto-categories">
    <div class="quarto-category">learning</div>
    <div class="quarto-category">research</div>
    <div class="quarto-category">productivity</div>
    <div class="quarto-category">software</div>
  </div>
  </div>

<div>
  <div class="description">
    some thoughts about learning new things
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Amiri Hayes </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 10, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<hr>
<div style="text-align: center; margin-bottom: -15px;">
[10-minute read]
</div>
<div style="text-align: center; margin-top: 20px;">
<p><a href="../index.html">See Other Blogs</a></p>
</div>
<p><br></p>
<p>I’ve recently been thinking about the importance of clearly defining your approach when learning new things. The <strong>hardest part of learning something new is probably trying to start</strong>, which may largely be because once you’ve committed to the act of deciding to learn something, you next have to decide: <strong>how?</strong></p>
<p>There are a lot of strategies and research related to learning new things, including things like active learning and spaced repetition. But when it comes to developing expertise, one paradigm feels particularly relevant to my recent efforts to try and improve my ability to learn. That’s <strong>Depth</strong> and <strong>Breadth</strong>.</p>
<ul>
<li><strong>Depth </strong> | I’m defining as: time spent learning some particular specialization or working towards solving some particular problem.</li>
<li><strong>Breadth</strong> | I’m defining as: time spent learning the fundamentals of work done in some domain or understanding the set of solutions to problems in a domain.</li>
</ul>
<p>I wrote this to sort out my thoughts, categorize my historical efforts, and hopefully hear other thoughts and approaches.</p>
<hr>
<section id="starting-out-with-breadth" class="level3">
<h3 class="anchored" data-anchor-id="starting-out-with-breadth">Starting Out with Breadth</h3>
<p>When I first started out in my <a href="https://drive.google.com/file/d/1r-q1p8PiqFpZYEnzSZ0NY4bx-gR_w-Re/view?usp=sharing">journey</a> to see how you can use computers to solve problems in 2023, I approached it with the goal of developing <strong>breadth</strong>. Since my goal was so broad, there were a variety of directions I could approach it from.</p>
<p>I decided to designate each month to gaining knowledge in an area of software engineering I was interested in: - <strong>January:</strong> Web Development Basics - <strong>February &amp; March:</strong> Frontend and Backend Development - <strong>April:</strong> Database Systems - <strong>May:</strong> Machine Learning. This way, I was able to get a breadth of introductory experiences by following along with tutorials and binging course lectures. As a complete beginner, this massive influx of breadth was really helpful for going from knowing nothing about all of these topics to <strong>knowing something</strong> (and in my opinion, knowing something is infinitely better than knowing nothing, because then you have stuff to work with).</p>
<p>Broadly continuing this pursuit of knowledge has served me well as a start to many projects, but it is insufficient alone. As I started to work on bigger projects in research and for fun in these domains, I started to get a better sense of the true importance of breadth, beyond introductory experiences in a variety of domains.</p>
<p>For example, one thing I learned from my experience conducting research at MIT last summer is that sometimes the most valuable thing that you can bring to a project isn’t the ability to solve an engineering problem the fastest, but the ability to <strong>think broadly and creatively bridge ideas from different areas</strong> to change how you start thinking about the problem in the first place. This was a recurring theme from my mentors who I could tell drew from a variety of previous experiences to come up with creative ideas. This view differed from my original introduction to breadth as something required to get your foot in the door.</p>
<blockquote class="blockquote">
<p>To me, that’s the beauty of breadth: the emergent capability to contextualize a problem and develop solutions that either haven’t been thought of, or solutions that frame the problem in a new light.</p>
</blockquote>
<p>Having a breadth of knowledge and valuable experiences eventually builds a unique new vantage point for you, on which it’s easier to see what <em>should</em> exist but doesn’t and come up with cool ideas. That said, once you can come up with those new solutions, someone <em>usually</em> has to do the work of implementing your awesome solutions and in practice, that person is often you.</p>
<hr>
</section>
<section id="going-deep" class="level3">
<h3 class="anchored" data-anchor-id="going-deep">Going Deep</h3>
<p>How efficiently could you teach a middle schooler algebra? Identify a bug in a Python function? Diagnose a medical condition or negotiate a multi-million-dollar contract? These things don’t just benefit from a breadth of experience, but from <strong>depth</strong> in particular. Knowledge from having worked in that exact domain and deeply understood the previous solutions and approaches makes it way easier to buckle down and complete the task.</p>
<p>I can think of plenty of other examples where depth is useful. To give another example from MIT, picture this: I was one week in to the summer had just started trying to figure out what code I’d need to write to start answering my research question. After some more talking to my mentor about beginning to code things, they decided to boot up their code editor and have us talk through some implementation details while we pair-coded some ideas. Afterwaards, the <strong>40 lines of code they wrote in about twenty minutes</strong> was the base of the entire project I implemented. They didn’t have to ask what python libraries to use, how to frame the research question, how to scope the function, which math concepts were relevant to the potential solutions, or why approaching our goal this way was best. I don’t know for sure, but my guess is that having a <strong>depth of experience</strong> from a career answering questions like this is how they were able to get me started so quickly.</p>
<p>Putting in your 10,000 hours is good for mastery, but won’t automatically produce innovation unless your practice reflects that desire. However, going to the lengths to combine <strong>mastery (depth)</strong> with <strong>purposeful exploration (breadth)</strong> is definitely a winning recipe for innovation.</p>
<hr>
</section>
<section id="the-weighted-balance" class="level3">
<h3 class="anchored" data-anchor-id="the-weighted-balance">The Weighted Balance</h3>
<p>Clearly, breadth and depth are both important, so you should definitely optimize for them both when improving your knowledge base, right? I think that’s true (reach out to me if you know for sure!), but in practice, it’s been nontrivial prioritizing both endeavors in my day-to-day life.</p>
<p>Usually, when it’s time to work on a project, that’s what I do: I work on the project and continue working on the project. Eventually, after some sweat, I’ve either successfully or unsuccessfully completed the project. Either way, the project is completed, and part of the <strong>value I’ve attained from the endeavor</strong> is that <strong>I have learned how to finish the project</strong>.</p>
<p>However, in that model of approaching problems, there’s no room for learning about things that are not obviously (or directly) related to the project but would still improve my approach and completion of the project. After all, there will be future projects and future problems, and I should optimize for my ability to complete those too.</p>
<p>In practice, I’ve tried a couple of things to find this balance:</p>
<ol type="1">
<li>In 2023, when I started from a breadth-first perspective of learning about the different things you can do with computers (e.g., web development, data engineering, machine learning), I followed a lot of tutorials and courses, but made sure to include large <strong>non-tutorial projects (like this website)</strong> as cornerstones to demonstrate my understanding. This helped me work towards depth.</li>
<li>When I started from a depth-first perspective this past September and made a project tracking site to catalog my progress on research projects, I made sure to keep a broader list of topics and papers I came across so that I can work on <strong>all these related topics </strong> I find in the course of my project and document my progress on these breadth-related concepts in between project work as well.</li>
</ol>
<p>While both of these approaches to prioritizing breadth and depth of knowledge work well in theory, one thing I’ve come to realize for me is that both approaches are difficult to maintain because of <strong>context switching</strong>. Context switching is generally difficult for humans because it requires us to break focus and shift gears. I hypothesize that context switching is particularly difficult when switching from breadth-focused to depth-focused endeavors, or vice versa, as they very often seem <strong>orthogonal</strong>.</p>
<ul>
<li>For example, if you are focusing on completing a table for a woodworking project using traditional joinery, then why would you stop making progress to improve your knowledge of computer-aided design and laser cutting?</li>
<li>If you are using a Python library for data exploration on a small dataset and have found the functions that you need for your problem, why would you next decide to research the implementation of the other functions and capabilities of the library?</li>
</ul>
<p>It’s easy to accept that in the long-term, working towards both of these tasks is helpful, but in the short-term, switching tasks feels backwards and impractical.</p>
<p>For right now, my main conclusion about this topic is that you don’t need to balance depth and breadth perfectly, but <strong>attempting to include both into your learning intentionally</strong> and recognizing that they might almost always initially seem contradictory is crucial.</p>
<p>There are three main things [1] that I’m going to try and focus on for improving my ability to gain both a breadth and depth of knowledge, so I can (colloquially speaking) get a deeper bag and be better at pulling from it.</p>
<ol type="1">
<li>Prioritize blocking out my time proportionally for breadth-focused vs.&nbsp;depth-focused tasks, depending on what needs to get done that day. <strong>Use rituals when task-switching</strong> to build stronger associations between the switch, so it’s easier to keep focus and the overall goal in mind.</li>
<li>Get into the habit of prioritizing both <strong>breadth-focused</strong> and <strong>depth-focused</strong> tasks in my routines, making it easier by keeping a list of breadth tasks and topics most relevant to my major project. I also plan to <strong>mentally weight</strong> particular direction each session, so that I know which one I want to work towards the most at any given time.</li>
<li><strong>Keeping track of my progress</strong> and reasons for doing breadth-focused tasks (e.g., writing down why I am diverting focus from a particular project to practice some semi-related concept or read some semi-related paper in a notebook or in my codebase and how this act may be useful in the future).</li>
</ol>
<blockquote class="blockquote">
<p>[1] Most of the three actionable thoughts are inspired by suggestions from <em>Deep Work</em> by Cal Newport and <em>Atomic Habits</em> by James Clear.</p>
</blockquote>
<hr>
<p>That’s the end of the first article, thanks for reading! If you liked it, check back in around a month from now for a new one.</p>
<!---
<div style="text-align: center; margin-top: 20px;">
    ##### Want to be notified for the next blog?
    
    [$\leftarrow$ Back to Blog Home](../index.html)
</div>
-->
<div style="text-align: center; margin-top: 20px;">
<a href="https://www.amirihayes.com"><span class="math inline">\(\leftarrow\)</span> Back Home</a>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>